#include <Wire.h>

#define SENSOR_ADDR 0x20

void setup() {
  Wire.begin();
  Serial.begin(9600);

  Serial.println("I2C HC-SR04 Test...");
}

void loop() {
  // Ask sensor to perform measurement (depends on module)
  Wire.beginTransmission(SENSOR_ADDR);
  Wire.write(0x01);  // Example command (varies by module)
  Wire.endTransmission();

  delay(100);  // Give sensor time to measure

  // Request 2 bytes (example distance data)
  Wire.requestFrom(SENSOR_ADDR, 2);

  if (Wire.available() == 2) {
    uint8_t high = Wire.read();
    uint8_t low = Wire.read();
    int distance = (high << 8) | low;

    Serial.print("Distance: ");
    Serial.print(distance);
    Serial.println(" mm");
  }

  delay(300);
}
